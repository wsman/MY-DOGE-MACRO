# ğŸ• MY-DOGE MACRO

**MY-DOGE MACRO** æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„é‡åŒ–å®è§‚åˆ†ææ¡†æ¶ï¼Œæ—¨åœ¨å°†ä¼ ç»Ÿçš„é‡åŒ–åŠ¨é‡ç­–ç•¥ä¸å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ¨ç†èƒ½åŠ›ç›¸ç»“åˆã€‚

è¯¥ç³»ç»Ÿé€šè¿‡è¿½è¸ªå…¨çƒæ ¸å¿ƒå¤§ç±»èµ„äº§â€”â€”ç§‘æŠ€è‚¡ (QQQ)ã€é¿é™©é»„é‡‘ (GLD)ã€æ•°å­—è´§å¸ (BTC) åŠ Aè‚¡ (000300)â€”â€”æ¥è¯†åˆ«å½“å‰å¸‚åœºçš„é£é™©ä½“åˆ¶ (Market Regime)ã€‚å®ƒä¸ä»…ä»…ä¾èµ–ç®€å•çš„æŠ€æœ¯æŒ‡æ ‡ï¼Œè¿˜åˆ©ç”¨ **DeepSeek API** å¯¹é•¿çŸ­æœŸæ•°æ®è¿›è¡Œç»¼åˆæ¨ç†ï¼Œè¾“å‡ºå¸¦æœ‰ç²¾ç¡®æ•°æ®å¼•ç”¨çš„æŠ•èµ„ç­–ç•¥æŠ¥å‘Šã€‚

## æ ¸å¿ƒç‰¹æ€§ (Key Features)

- **ğŸ“ˆ å¤šç»´æ—¶åºåˆ†æ (Decoupled Metrics)**: 
  - ä¸¥æ ¼è§£è€¦**ä¸­æœŸè¶‹åŠ¿** (Medium-term Trend, ~90d) ä¸**çŸ­æœŸåŠ¨é‡** (Short-term Momentum, 5d)ï¼Œé¿å…ä¿¡å·æ··æ·†ã€‚
- **ğŸ¤– LLM å¢å¼ºæ¨ç† (AI-Powered reasoning)**: 
  - é›†æˆ DeepSeek å¤§æ¨¡å‹ï¼Œæ¨¡æ‹Ÿå®è§‚å¯¹å†²åŸºé‡‘ç»ç†çš„å†³ç­–é€»è¾‘ï¼Œåˆ†æèµ„äº§é—´çš„ç›¸å…³æ€§ä¸èƒŒç¦»ï¼ˆå¦‚ BTC vs GLDï¼‰ã€‚
- **ğŸ›¡ï¸ åŠ¨æ€é£é™©ä½“åˆ¶è¯†åˆ« (Regime Detection)**: 
  - åŸºäºç›¸å¯¹å¼ºå¼±æ¨¡å‹ (Relative Strength) è‡ªåŠ¨åˆ¤å®šå¸‚åœºå¤„äº **Risk-On** (é£é™©åå¥½) è¿˜æ˜¯ **Risk-Off** (é¿é™©) çŠ¶æ€ã€‚
- **ğŸ“Š ç²¾ç¡®æ•°æ®å¼•ç”¨ (Data Citation)**: 
  - ç”Ÿæˆçš„ç­–ç•¥æŠ¥å‘Šå¼ºåˆ¶è¦æ±‚å¼•ç”¨åº•å±‚æ•°æ®æºï¼Œç¡®ä¿æ¯ä¸€æ¡ç»“è®ºéƒ½æœ‰æ®å¯ä¾ï¼Œæœç»å¹»è§‰ã€‚

## æŠ€æœ¯æ ˆ (Tech Stack)

- **Core**: Python 3.10+
- **Data**: `yfinance`, `pandas`, `numpy`
- **AI/LLM**: `openai` SDK (DeepSeek Provider)
- **Math**: æ³¢åŠ¨ç‡ç›®æ ‡è®¡ç®— (Volatility Targeting), å½’ä¸€åŒ–åŠ¨é‡ (Normalized Momentum)

ä¸€ä¸ªåŸºäº DeepSeek API çš„é‡åŒ–å®è§‚å¯¹å†²ç­–ç•¥å·¥å…·ï¼Œç”¨äºåˆ†æå…¨çƒå¸‚åœºèµ„é‡‘æµå‘å’Œåˆ¶å®šæŠ•èµ„å†³ç­–ã€‚

## ğŸš€ ç‰¹æ€§

- **è·¨å¸‚åœºæ•°æ®åŒæ­¥**: åŒæ—¶è·å–ç¾è‚¡ã€é»„é‡‘ã€Aè‚¡ç­‰å…¨çƒæ ¸å¿ƒèµ„äº§æ•°æ®
- **æ™ºèƒ½æŒ‡æ ‡è®¡ç®—**: è‡ªåŠ¨è®¡ç®—æŠ€æœ¯æŒ‡æ ‡å’Œé£é™©ä¿¡å·
- **DeepSeek AI åˆ†æ**: åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œå®è§‚ç­–ç•¥ç ”åˆ¤
- **ä¸“ä¸šæ—¥å¿—ç³»ç»Ÿ**: å®Œæ•´çš„è¿è¡Œæ—¥å¿—è®°å½•ï¼Œä¾¿äºè¿½æº¯å†³ç­–
- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ä»£ç ç»“æ„ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤

## ğŸ“¦ å®‰è£…

### ä»æºç å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/wsman/MY-DOGE-MACRO.git
cd my_doge_macro

# å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼‰
python -m venv venv
venv\Scripts\activate  # Windows æˆ– source venv/bin/activate  # Linux/Mac

pip install -e .
```

### ä½¿ç”¨ Python è™šæ‹Ÿç¯å¢ƒ (æ¨è)

å»ºè®®åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨è¯¥é¡¹ç›®ä»¥é¿å…ä¾èµ–å†²çªï¼š

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv mydoge_env

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
mydoge_env\Scripts\activate  # Windows
# æˆ–è€…
source mydoge_env/bin/activate  # Linux/Mac

# å®‰è£…é¡¹ç›®ä¾èµ–
pip install -e .
```

### ä» PyPI å®‰è£…ï¼ˆå¾…å‘å¸ƒï¼‰

```bash
pip install my-doge-macro
```

## âš™ï¸ é…ç½®

### 1. è®¾ç½® API Key

å°† `.env.example` æ–‡ä»¶é‡å‘½åä¸º `.env` å¹¶å¡«å…¥æ‚¨çš„ DeepSeek API Keyï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤
mv .env.example .env
```

ç„¶åç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œæ›¿æ¢ `your_deepseek_api_key_here` ä¸ºæ‚¨çš„å®é™… API Keyï¼š

```env
DEEPSEEK_API_KEY=your_actual_api_key_here
```

### 2. é…ç½® DeepSeek æ¨¡å‹ï¼ˆå¯é€‰ï¼‰

æ‚¨å¯ä»¥é€šè¿‡åœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ æ¨¡å‹é…ç½®æ¥è‡ªå®šä¹‰ä½¿ç”¨çš„ DeepSeek æ¨¡å‹ï¼š

```env
# é»˜è®¤ä½¿ç”¨ deepseek-chat æ¨¡å‹ï¼Œä¹Ÿå¯è®¾ç½®ä¸º deepseek-reasoner
DEEPSEEK_MODEL=deepseek-reasoner
```

> âš ï¸ è¯·æ³¨æ„ï¼š`deepseek-reasoner` æ˜¯é«˜çº§æ¨ç†æ¨¡å‹ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„æƒé™å’Œèµ„æºã€‚è¯·æ ¹æ®æ‚¨çš„ API è®¿é—®æƒé™é€‰æ‹©åˆé€‚çš„æ¨¡å‹ã€‚

### 2. è·å– DeepSeek API Key

1. è®¿é—® [DeepSeek å®˜ç½‘](https://platform.deepseek.com/)ï¼Œæ³¨å†Œè´¦å·ã€‚
2. è¿›å…¥æ§åˆ¶å°ï¼Œåœ¨ "API Keys" é¡µé¢åˆ›å»ºæ–°çš„ API Keyã€‚
3. å°†ç”Ÿæˆçš„ API Key å¤åˆ¶åˆ° `.env` æ–‡ä»¶ä¸­çš„ `DEEPSEEK_API_KEY=your_actual_api_key_here` ä½ç½®ã€‚

> âœ… **é‡è¦æç¤º**ï¼šè¯·å‹¿å°† `.env` æ–‡ä»¶æäº¤è‡³ Git ç‰ˆæœ¬æ§åˆ¶ã€‚è¯¥æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œå·²é€šè¿‡ `.gitignore` è‡ªåŠ¨æ’é™¤ã€‚

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### åŸºç¡€ä½¿ç”¨

```python
from my_doge_macro import MacroConfig, GlobalMacroLoader, DeepSeekStrategist, setup_logging

# åˆå§‹åŒ–æ—¥å¿—ç³»ç»Ÿ
setup_logging()

# ä» .env æ–‡ä»¶è‡ªåŠ¨åŠ è½½ API Keyï¼ˆæ— éœ€æ‰‹åŠ¨é…ç½®ï¼‰
config = MacroConfig()


# è·å–å¸‚åœºæ•°æ®
loader = GlobalMacroLoader(config)
market_data = loader.fetch_combined_data()

if market_data is not None:
    # è®¡ç®—æŠ€æœ¯æŒ‡æ ‡
    metrics = loader.calculate_metrics(market_data)
    
    # DeepSeek åˆ†æ
    strategist = DeepSeekStrategist(config)
    report = strategist.generate_strategy_report(metrics, market_data.tail(5))
    
    print(report)
```

### å‘½ä»¤è¡Œä½¿ç”¨

```bash
# å®‰è£…åå¯é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨
my-doge-macro
```

## ğŸ“Š æ ¸å¿ƒæ¦‚å¿µ

### èµ„äº§é”šç‚¹ (Proxies)

- **ç§‘æŠ€å™äº‹**: QQQ (çº³æŒ‡100 ETF)
- **é¿é™©æƒ…ç»ª**: GLD (é»„é‡‘ ETF)  
- **æ ‡çš„èµ„äº§**: 000300.SS (æ²ªæ·±300)

### å†³ç­–æ¡†æ¶

ç­–ç•¥åŸºäº"è·¨èµ„äº§è½®åŠ¨"æ¡†æ¶ï¼š

1. **æ ¸å¿ƒå…¬ç†**: èµ„é‡‘æ€»æ˜¯æµå‘é˜»åŠ›æœ€å°çš„æ–¹å‘
2. **é¿é™©åˆ¤å®š**: ç§‘æŠ€è‚¡æ³¢åŠ¨ç‡é£™å‡ + é»„é‡‘ä¸Šæ¶¨ = Risk-Off
3. **è¿›æ”»åˆ¤å®š**: ç§‘æŠ€è‚¡ç¨³æ­¥ä¸Šæ¶¨ + é»„é‡‘æ»æ¶¨ = Risk-On

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
my_doge_macro/
â”œâ”€â”€ my_doge_macro/          # ä¸»åŒ…ç›®å½•
â”‚   â”œâ”€â”€ __init__.py         # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ config.py           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ data_loader.py      # æ•°æ®è·å–æ¨¡å—
â”‚   â”œâ”€â”€ strategist.py       # ç­–ç•¥åˆ†ææ¨¡å—
â”‚   â””â”€â”€ utils.py            # å·¥å…·å‡½æ•°
â”œâ”€â”€ tests/                  # å•å…ƒæµ‹è¯•
â”œâ”€â”€ examples/               # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ notebooks/              # Jupyter Notebooks
â”œâ”€â”€ logs/                   # è¿è¡Œæ—¥å¿—
â”œâ”€â”€ .env.example            # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ requirements.txt        # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ setup.py                # åŒ…å®‰è£…é…ç½®
â”œâ”€â”€ pyproject.toml          # ç°ä»£åŒ…é…ç½®
â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
```

## ğŸ”§ å¼€å‘

### å®‰è£…å¼€å‘ä¾èµ–

```bash
pip install -e ".[dev]"
```

### è¿è¡Œæµ‹è¯•

```bash
pytest
```

### ä»£ç æ ¼å¼åŒ–

```bash
black my_doge_macro/
flake8 my_doge_macro/
mypy my_doge_macro/
```

## ğŸ“ˆ ä½¿ç”¨åœºæ™¯

### 1. æ¯æ—¥å¸‚åœºåˆ†æ
```python
# æ¯æ—¥å¼€ç›˜å‰è¿è¡Œï¼Œè·å–å½“æ—¥äº¤æ˜“å»ºè®®
from my_doge_macro import run_daily_analysis

report = run_daily_analysis()
```

### 2. å†å²å›æµ‹
```python
# åœ¨ notebooks/ ç›®å½•ä¸­ä½¿ç”¨ Jupyter è¿›è¡Œç­–ç•¥å›æµ‹
# è¯¦è§ notebooks/backtesting.ipynb
```

### 3. è‡ªå®šä¹‰é…ç½®
```python
from my_doge_macro import MacroConfig

# è‡ªå®šä¹‰èµ„äº§é…ç½®
config = MacroConfig(
    tech_proxy="TQQQ",           # 3å€æ æ†çº³æŒ‡ETF
    safe_haven_proxy="IAU",      # iShares é»„é‡‘ä¿¡æ‰˜
    target_asset="510300.SS",    # æ²ªæ·±300 ETF
    lookback_days=90,            # å»¶é•¿è§‚å¯Ÿçª—å£
)
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®è·å–å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - éªŒè¯è‚¡ç¥¨ä»£ç æ ¼å¼
   - ç¡®è®¤ yfinance åº“æ­£å¸¸å·¥ä½œ

2. **API è°ƒç”¨å¤±è´¥**
   - æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ API Key
   - ç¡®è®¤ DeepSeek è´¦æˆ·ä½™é¢å……è¶³
   - æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

3. **ä¾èµ–å®‰è£…é—®é¢˜**
   - ä½¿ç”¨ Python 3.8+
   - æ›´æ–° pip: `pip install --upgrade pip`

### æ—¥å¿—æŸ¥çœ‹

æ—¥å¿—æ–‡ä»¶ä¿å­˜åœ¨ `logs/app.log`ï¼ŒåŒ…å«è¯¦ç»†çš„è¿è¡Œä¿¡æ¯ï¼š

```bash
tail -f logs/app.log
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚é‡‘èå¸‚åœºæŠ•èµ„å­˜åœ¨é£é™©ï¼Œè¯·åœ¨å……åˆ†äº†è§£é£é™©çš„æƒ…å†µä¸‹è°¨æ…å†³ç­–ã€‚ä½œè€…ä¸å¯¹ä»»ä½•æŠ•èµ„æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚

---


